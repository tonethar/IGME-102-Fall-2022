# Week 9 Notes

## Navigation

- [Monday Notes](#monday)
- [Wednesday Notes](#wednesday)

<!--
- [Friday Notes](#friday)
-->

<hr>

<a id="monday" />

## I. Monday

### I-A. Review Exam

### I-B. Review PE-12 *Sets*

<hr>

<a id="wednesday" />

## II. Wednesday
- Let's get started on File I/O ("Input/Output")
- And *parsing* strings

### II-A. Loading Text
- See *External Text Files Strings* PDF in myCourses
- Loading a text file:
  - https://p5js.org/reference/#/p5/loadStrings
  - `loadStrings(path)` opens the file whose `path` is passed in as a parameter, reads the file line by line, and returns an array of strings. 
  - It is *asynchronous*:
    - meaning it takes an indeterminate amount of time to happen
    - meaning it occurs in "the background" while our other code executes
    - so use `preload()`, or specify a *callback* function, and optionally an *error* function
  - `loadStrings(path,[successCallback],[failureCallback])` - returns an array of strings
  - PS - we can load a *local* file (meaning, it's on the same storage device our sketch.js is), or a *remote* file that's out there on the Internet somewhere

```js
function setup() {
  // This text file is out on the Internet
  // You can see its contents by pasting the URL into a web brower
  loadStrings("https://people.rit.edu/acjvks/shared/330/data/gettysburg.txt", dataLoaded, loadError);
}

// called "on success"
function dataLoaded(wordArray){
  console.log(wordArray);
}

// called "on failure"
function loadError(error){
  console.log("ERROR",error);
}
```

<hr>

### II-B. Looking ahead - loading a JSON web service and displaying the results

- Here we a loading a text file - in a format called JSON - that contains real-time information about the most powerful earthquakes that have happened in the world in the last 24-hours
- This is just an example for now - so you can see where we are going in the near future

```js
function setup() {
  loadJSON("https://earthquake.usgs.gov/earthquakes/feed/v1.0/summary/all_day.geojson", dataLoaded, loadError);
}

// called "on success"
function dataLoaded(json){
  console.log(json);
  let resultsArray = json.features;
  // sort the results "in place" - trying to get today's most powerful earthquake
  resultsArray.sort((a,b) => b.properties.mag - a.properties.mag)
  let highestMag = resultsArray[0];
  let place = highestMag.properties.place;
  let mag = highestMag.properties.mag;
  let timestamp = highestMag.properties.time;
  let date = new Date().toLocaleString();
  console.log("Location:", place, "- Magnitude:", mag, "- Date:", date);
}

// called "on failure"
function loadError(error){
  console.log("ERROR",error);
}
```



<hr>

### II-C. Strings
- Strings are a series of single characters - technically, an array of characters
- Strings are also objects:
  - they hold data
  - they have methods to do "stuff"
  - https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String

```js
// String methods
let quote = "No good deed goes unpunished";
quote = quote.toUpperCase();
console.log(quote);
console.log(quote.charAt(0));
console.log(quote.substring(0,2));
console.log(quote.substring(0,7));
console.log(quote.indexOf("DEED"));
console.log(quote.endsWith("UNPUNISHED"));
quote = quote.replace("UNPUNISHED", "PUNISHED")
console.log(quote);
```

<hr>

### II-D. Strings are arrays of characters

- We can "loop" through strings of characters

**Loop & log letters to console, one letter at a time**
```js
const quote = "No good deed goes unpunished";
for(let char of quote){
  console.log(char);
}
```

**Loop & do some p5 drawing**
```js
function setup() {
  createCanvas(400, 400);
  background(0);
  const quote = "No good deed goes unpunished";
  for(let char of quote){
    fill(55+random(200), 55+random(200), 55+random(200));
    text(char, random(width), random(height))
  }
}
```

### II-E. "Split" a string and turn it into an array





<!--

<hr>


<a id="friday" />

## III. Friday

-->


<hr><hr>

| <-- Previous Unit | Home | Next Unit -->
| --- | --- | --- 
| [**Week 8 notes.md**](08.md)     |  [**IGME-102 Schedule**](../schedule.md) | Week 10 notes
